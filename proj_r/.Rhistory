library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, month[[region]][[type]])
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
p <- ggplot(data=df, aes(x = mes, y = precio)) + geom_bar(stat="identity") + theme_minimal()
p
#ggplot(values, type = "o", col = "blue", xlab = "Mes", ylab = "Precio (€/l)", xaxt = "n")
#axis(1, at = 1:12, labels = names(data1))
#title(main = sprintf("Año %d", year), col.main = "red", font.main = 4)
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, month[[region]][[type]])
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
p <- ggplot(data=df, aes(x = mes, y = precio)) + geom_bar(stat="identity", , fill = "steelblue") + theme_minimal()
p
#ggplot(values, type = "o", col = "blue", xlab = "Mes", ylab = "Precio (€/l)", xaxt = "n")
#axis(1, at = 1:12, labels = names(data1))
#title(main = sprintf("Año %d", year), col.main = "red", font.main = 4)
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, month[[region]][[type]])
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
theme_minimal()
p
#ggplot(values, type = "o", col = "blue", xlab = "Mes", ylab = "Precio (€/l)", xaxt = "n")
#axis(1, at = 1:12, labels = names(data1))
#title(main = sprintf("Año %d", year), col.main = "red", font.main = 4)
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 2))
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
theme_minimal()
p
#ggplot(values, type = "o", col = "blue", xlab = "Mes", ylab = "Precio (€/l)", xaxt = "n")
#axis(1, at = 1:12, labels = names(data1))
#title(main = sprintf("Año %d", year), col.main = "red", font.main = 4)
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
theme_minimal()
p
#ggplot(values, type = "o", col = "blue", xlab = "Mes", ylab = "Precio (€/l)", xaxt = "n")
#axis(1, at = 1:12, labels = names(data1))
#title(main = sprintf("Año %d", year), col.main = "red", font.main = 4)
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$precio <- factor(df$precio, levels = df$precio)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
theme_minimal()
p
#ggplot(values, type = "o", col = "blue", xlab = "Mes", ylab = "Precio (€/l)", xaxt = "n")
#axis(1, at = 1:12, labels = names(data1))
#title(main = sprintf("Año %d", year), col.main = "red", font.main = 4)
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
#df$precio <- factor(df$precio, levels = df$precio)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
theme_minimal()
p
#ggplot(values, type = "o", col = "blue", xlab = "Mes", ylab = "Precio (€/l)", xaxt = "n")
#axis(1, at = 1:12, labels = names(data1))
#title(main = sprintf("Año %d", year), col.main = "red", font.main = 4)
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
#df$precio <- factor(df$precio, levels = df$precio)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
theme_minimal() +
ylim(0, 2)
p
#ggplot(values, type = "o", col = "blue", xlab = "Mes", ylab = "Precio (€/l)", xaxt = "n")
#axis(1, at = 1:12, labels = names(data1))
#title(main = sprintf("Año %d", year), col.main = "red", font.main = 4)
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
df$precio <- factor(df$precio, levels = df$precio)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
theme_minimal() +
ylim(0, 2)
p
#ggplot(values, type = "o", col = "blue", xlab = "Mes", ylab = "Precio (€/l)", xaxt = "n")
#axis(1, at = 1:12, labels = names(data1))
#title(main = sprintf("Año %d", year), col.main = "red", font.main = 4)
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
#df$precio <- factor(df$precio, levels = df$precio)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
theme_minimal() +
ylim(0, 2)
p
#ggplot(values, type = "o", col = "blue", xlab = "Mes", ylab = "Precio (€/l)", xaxt = "n")
#axis(1, at = 1:12, labels = names(data1))
#title(main = sprintf("Año %d", year), col.main = "red", font.main = 4)
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
theme_minimal()
p
#ggplot(values, type = "o", col = "blue", xlab = "Mes", ylab = "Precio (€/l)", xaxt = "n")
#axis(1, at = 1:12, labels = names(data1))
#title(main = sprintf("Año %d", year), col.main = "red", font.main = 4)
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
theme_minimal() +
ylim(0, 1.5)
p
#ggplot(values, type = "o", col = "blue", xlab = "Mes", ylab = "Precio (€/l)", xaxt = "n")
#axis(1, at = 1:12, labels = names(data1))
#title(main = sprintf("Año %d", year), col.main = "red", font.main = 4)
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
theme_minimal() +
ylim(0, 1.5) +
labs(title = sprintf("Año %d", year), x = "Mes", y = "Precio (€/l)")
p
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
theme_minimal() +
ylim(0, 1.5) +
labs(title = sprintf("Año %d - %s", year, region), x = "Mes", y = "Precio (€/l)")
p
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
ylim(0, 1.5) +
labs(title = sprintf("Año %d - %s", year, region), x = "Mes", y = "Precio (€/l)") +
theme_minimal()
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
ylim(0, 1.5) +
labs(title = sprintf("Año %d - %s", year, region), x = "Mes", y = "Precio (€/l)") +
theme_minimal()
p
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type, typeDisplayName) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
ylim(0, 1.5) +
labs(title = sprintf("Año %d - %s - %s", year, region, typeDisplayName), x = "Mes", y = "Precio (€/l)") +
theme_minimal()
p
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A", "Gasóleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type, typeDisplayName) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
ylim(0, 1.5) +
labs(title = sprintf("Año %d - %s - %s", year, region, typeDisplayName), x = "Mes", y = "Precio (€/l)") +
theme(plot.title = element_text(hjust = 0.5)) +
theme_minimal()
p
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A", "Gasóleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type, typeDisplayName) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
ylim(0, 1.5) +
labs(title = sprintf("Año %d - %s - %s", year, region, typeDisplayName), x = "Mes", y = "Precio (€/l)") +
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5))
p
}
result = load_data(2011)
create_plot(2011, result, "Madrid", "Precio Gasoleo A", "Gasóleo A")
library("rjson")
library("ggplot2")
load_data <- function(year) {
result <- fromJSON(file = sprintf("../avg_price_monthly_report_%d.json", year))
}
extract_values <- function(data, region, type) {
result <- vector()
for (month in data) {
result <- c(result, round(month[[region]][[type]], 3))
}
result
}
create_plot <- function(year, chart_data, region, type, typeDisplayName) {
values <- extract_values(chart_data, region, type)
df <- data.frame(mes = names(chart_data), precio = values)
df$mes <- factor(df$mes, levels = df$mes)
p <- ggplot(data = df, aes(x = mes, y = precio)) +
geom_bar(stat="identity", , fill = "steelblue") +
geom_text(aes(label = precio), vjust = -0.3, size = 3.5) +
ylim(0, 1.5) +
labs(title = sprintf("Año %d - %s - %s", year, region, typeDisplayName), x = "Mes", y = "Precio (€/l)") +
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5))
p
}
result = load_data(2012)
create_plot(2012, result, "Madrid", "Precio Gasoleo A", "Gasóleo A")
